# Ray Tracing

El trazado de rayos (en inglés ray tracing) es un algoritmo para síntesis de imágenes que calcula el camino de la luz como píxeles en un plano de la imagen y simula sus efectos sobre las superficies virtuales en las que incida. Esta técnica es capaz de producir imágenes con un alto grado de realismo, de una forma mayor que el renderizado mediante líneas de exploración tradicional, aunque el coste computacional del trazado de rayos es mucho mayor. [1]

## Ray Tracing en los videojuegos

Durante mucho tiempo se ha utilizado la rasterización para generar la imagen en la pantalla, la forma en que funciona la rasterización es que se hace el cálculo de la distancia de ciertos objetos, se puntualiza el lugar de dónde viene la luz y se determina qué objetos están delante de otros. A partir de esta información se determina el color que debe tener cada pixel en el monitor, dibujando la escena punto por punto como una imagen 2D.

Con el tiempo los desarrolladores han mejorado esta tecnología permitiendo a los objetos la capacidad de proyectar sombras básicas basadas en fuentes de luz y utilizando métodos como la oclusión ambiental para agregar sombras adicionales independientes de las fuentes de luz.

Sin embargo, la mayoría de los juegos no simulan realmente la forma en que se comporta la luz en el mundo real, sino que falsifican su comportamiento con algunas técnicas lo que dificulta generar reflejos y sombras realistas. Lo podemos ver en los espejos de los videojuegos que no reflejan apropiadamente las imágenes, por lo general son muy toscas.

El trazado de rayos es una técnica de renderizado que pretende simular la forma en que la luz rebota en los objetos, creando sombras reflejos y efectos de iluminación mas realistas.

Una fuente de luz como la lámpara de una habitación produce fotones que rebotan alrededor de la habitación hasta que alcanzan el ojo, el trazado de rayos realiza este proceso de forma inversa, rastrea los rayos individuales de la cámara de la escena y rastrea cómo cada rayo se cruza con diferentes objetos, proyecta sombras y reflexiones, y hace su camino de vuelta a la fuente de luz.

Esto pretende asegurar que la computadora no desperdicie poder de procesamiento en objetos que la cámara no ve, mientras que aún procede efectos de iluminación mucho más realistas.

{{< figure src="/vc/images/RayTracing/DisneyRayTracingExplanation.gif" width="600">}}

El trazado de rayos ha sido la gran apuesta que han realizado los grandes del sector de los videojuegos, NVIDIA y AMD desde el año 2018 y ha recibido un creciente apoyo por parte de los desarrolladores, lo cual ha permitido adoptar esta técnica en diferentes consolas de última generación como PS5, Xbox Series y X-Series S.

## Bibliografía
* [[1] Ray Tracing. Wikipedia](https://en.wikipedia.org/wiki/Ray_tracing_(graphics)).
* [[2] Ray Tracing. IGN España](https://es.ign.com/nvidia/138637/feature/que-es-el-trazado-de-rayos-y-por-que-deberia-importarte).